{"version":3,"sources":["webpack:///./server/uiserver.js"],"names":["require","config","impo","env","UI_API_ENDPOINT","process","REACT_APP_AUTH0_DOMAIN","REACT_APP_AUTH0_CLIENT_ID","REACT_APP_AUTH0_CALLBACK_URL","app","express","SourceMapSupport","install","enableHMR","ENABLE_HMR","console","log","webpack","devMiddleware","hotMiddleware","entry","push","plugins","HotModuleReplacementPlugin","compiler","use","static","apiProxyTarget","API_PROXY_TARGET","proxy","target","UI_SERVER_API_ENDPOINT","get","req","res","send","JSON","stringify","next","render","port","UI_SERVER_PORT","listen","module","hot","accept"],"mappings":"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","file":"server.c322aa055a46b56831ce.hot-update.js","sourcesContent":["require('dotenv').config();\r\nimpo\r\nimport express from 'express';\r\nimport proxy from 'http-proxy-middleware';\r\nimport SourceMapSupport from 'source-map-support';\r\n// eslint-disable-next-line import/extensions\r\nimport render from './render.jsx';\r\n\r\n// dotenv.config();\r\n\r\nconst env = {\r\n  UI_API_ENDPOINT: process.env.UI_API_ENDPOINT,\r\n  REACT_APP_AUTH0_DOMAIN: process.env.REACT_APP_AUTH0_DOMAIN,\r\n  REACT_APP_AUTH0_CLIENT_ID: process.env.REACT_APP_AUTH0_CLIENT_ID,\r\n  REACT_APP_AUTH0_CALLBACK_URL: process.env.REACT_APP_AUTH0_CALLBACK_URL,\r\n};\r\n\r\nconst app = express();\r\n\r\nSourceMapSupport.install();\r\n\r\nconst enableHMR = (process.env.ENABLE_HMR || 'true') === 'true';\r\n\r\nif (enableHMR && (process.env.NODE_ENV !== 'production')) {\r\n  console.log('Adding dev middleware, enabling HMR');\r\n  /* eslint \"global-require\": \"off\" */\r\n  /* eslint \"import/no-extraneous-dependencies\": \"off\" */\r\n  const webpack = require('webpack');\r\n  const devMiddleware = require('webpack-dev-middleware');\r\n  const hotMiddleware = require('webpack-hot-middleware');\r\n\r\n  const config = require('../webpack.config.js')[0];\r\n  config.entry.app.push('webpack-hot-middleware/client');\r\n  config.plugins = config.plugins || [];\r\n  config.plugins.push(new webpack.HotModuleReplacementPlugin());\r\n\r\n  const compiler = webpack(config);\r\n  app.use(devMiddleware(compiler));\r\n  app.use(hotMiddleware(compiler));\r\n}\r\n\r\napp.use(express.static('public'));\r\n\r\nconst apiProxyTarget = process.env.API_PROXY_TARGET;\r\nif (apiProxyTarget) {\r\n  app.use('/graphql', proxy({ target: apiProxyTarget }));\r\n}\r\n\r\nif (!process.env.UI_API_ENDPOINT) {\r\n  process.env.UI_API_ENDPOINT = 'http://localhost:3000/graphql';\r\n}\r\n\r\nif (!process.env.UI_SERVER_API_ENDPOINT) {\r\n  process.env.UI_SERVER_API_ENDPOINT = process.env.UI_API_ENDPOINT;\r\n}\r\n\r\napp.get('/env.js', (req, res) => {\r\n  res.send(`window.ENV = ${JSON.stringify(env)}`);\r\n});\r\n\r\napp.get('*', (req, res, next) => {\r\n  render(req, res, next);\r\n});\r\n\r\nconst port = process.env.UI_SERVER_PORT || 8000;\r\n\r\napp.listen(port, () => {\r\n  console.log(`UI started on port ${port}`);\r\n});\r\n\r\nif (module.hot) {\r\n  module.hot.accept('./render.jsx');\r\n}\r\n"],"sourceRoot":""}